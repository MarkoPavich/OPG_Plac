{% load static %}
  
  <!-- Responsive Navbar -->

  {% include 'components/utility/modal_signup.html' %}
  {% csrf_token %}

   <nav id="navbar" class="navbar">
    
    <div class="logo-nav-container">

        <a class="nav_homepage_anchor_icon" href="/">
            <div class="logo">
                
                    <img src="{% static 'resources/icons/logo_icn.svg' %}" alt="" width=47 height=41>
                    <span class="media-width" id="logo-span">OPG_Plac</span>
            </div>
        </a>

        <div id="nav-search-bar" class="hide">
            <input placeholder="pretraži OPG blizu tebe" id="nav_search_bar_input" class="search-bar-input" type="text" name="search_bar_input">

            <button class="search-icon-button">
                    <img src="{% static 'resources/icons/magnifier_icon.svg' %}" alt="magnifier_icon" height=15 width=15>
            </button>
        </div>

    </div>

    <a onclick="openSidebar(event)" id="toggle" href="#" class="toggle">
        <span class="bar"></span>
        <span class="bar"></span>
        <span class="bar"></span>
    </a>

    <ul id="nav-menu" class="nav-menu">
        <li class="media-width navitem"><a href="#">Istraži</a></li>
        <li class="media-width navitem"><a href="/about">O nama</a></li>
        <li id="three-dot-menu-button">
            <div class="navitem">•••</div>
            
            <div class="nav-3dots-menu-container">
                <ul class="nav-3dots-menu-options">
                    <li><a href="/">Naslovna</a> </li>
                    <li><a href="/blog">Blog</a></li>
                    <li><a href="/proizvodi">Proizvodi</a></li>
                    <li><a href="/about">O Nama</a></li>
                    <li>
                        {% if not user.is_authenticated %}
                            <a href="/prijava">Prijava</a>
                            <span>/</span>
                            <a onclick="open_modal_signup_form(event)" href="#">Registracija</a>
                        {% endif %}
                    </li>
                </ul>

                <ul class="nav-3dots-social-options">
                    <li><i class="fab fa-facebook-f fa-lg"></i></li>
                    <li><i class="fab fa-twitter fa-lg"></i></li>
                    <li><i class="fab fa-linkedin-in fa-lg"></i></li>
                    <li><i class="fab fa-instagram fa-lg"></i></li>
                </ul>

            </div>
        </li>

        {% if user.is_authenticated %}
            <li class="nav_user_logged_profile_options">
                <svg class="nav_userprof_ico_01 nav_userprof_ico" id="Layer_1" enable-background="new 0 0 512 512" height="512" viewBox="0 0 512 512" width="512" xmlns="http://www.w3.org/2000/svg"><g><path d="m256 512c-60.615 0-119.406-21.564-165.543-60.721-10.833-9.188-20.995-19.375-30.201-30.275-38.859-46.06-60.256-104.657-60.256-165.004 0-68.381 26.628-132.668 74.98-181.02s112.639-74.98 181.02-74.98 132.668 26.628 181.02 74.98 74.98 112.639 74.98 181.02c0 60.348-21.397 118.945-60.251 164.998-9.211 10.906-19.373 21.093-30.209 30.284-46.134 39.154-104.925 60.718-165.54 60.718zm0-480c-123.514 0-224 100.486-224 224 0 52.805 18.719 104.074 52.709 144.363 8.06 9.543 16.961 18.466 26.451 26.516 40.364 34.256 91.801 53.121 144.84 53.121s104.476-18.865 144.837-53.119c9.493-8.052 18.394-16.976 26.459-26.525 33.985-40.281 52.704-91.55 52.704-144.356 0-123.514-100.486-224-224-224z"/><path d="m256 256c-52.935 0-96-43.065-96-96s43.065-96 96-96 96 43.065 96 96-43.065 96-96 96zm0-160c-35.29 0-64 28.71-64 64s28.71 64 64 64 64-28.71 64-64-28.71-64-64-64z"/><path d="m411.202 455.084c-1.29 0-2.6-.157-3.908-.485-8.57-2.151-13.774-10.843-11.623-19.414 2.872-11.443 4.329-23.281 4.329-35.185 0-78.285-63.646-142.866-141.893-143.99l-2.107-.01-2.107.01c-78.247 1.124-141.893 65.705-141.893 143.99 0 11.904 1.457 23.742 4.329 35.185 2.151 8.571-3.053 17.263-11.623 19.414s-17.263-3.052-19.414-11.623c-3.512-13.989-5.292-28.448-5.292-42.976 0-46.578 18.017-90.483 50.732-123.63 32.683-33.114 76.285-51.708 122.774-52.358.075-.001.149-.001.224-.001l2.27-.011 2.27.01c.075 0 .149 0 .224.001 46.489.649 90.091 19.244 122.774 52.358 32.715 33.148 50.732 77.053 50.732 123.631 0 14.528-1.78 28.987-5.292 42.976-1.823 7.262-8.343 12.107-15.506 12.108z"/></g></svg>
                
                <svg class="nav_userprof_ico_02 nav_userprof_ico" version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
                width="451.847px" height="451.847px" viewBox="0 0 451.847 451.847" style="enable-background:new 0 0 451.847 451.847;"
                xml:space="preserve">
                <path d="M225.923,354.706c-8.098,0-16.195-3.092-22.369-9.263L9.27,151.157c-12.359-12.359-12.359-32.397,0-44.751
                c12.354-12.354,32.388-12.354,44.748,0l171.905,171.915l171.906-171.909c12.359-12.354,32.391-12.354,44.744,0
                c12.365,12.354,12.365,32.392,0,44.751L248.292,345.449C242.115,351.621,234.018,354.706,225.923,354.706z"/>
                </svg>

                <div class="nav-user-submenu-container">
                    <span>Dobrodošli, {{user.first_name|title}}</span>
                    <div class="nav-user-profile-submenu-header">
                        <div class="nav-userpro-submenu-glance-info-container">
                            <svg id="Layer_1" enable-background="new 0 0 512 512" height="512" viewBox="0 0 512 512" width="512" xmlns="http://www.w3.org/2000/svg"><g><path d="m256 512c-60.615 0-119.406-21.564-165.543-60.721-10.833-9.188-20.995-19.375-30.201-30.275-38.859-46.06-60.256-104.657-60.256-165.004 0-68.381 26.628-132.668 74.98-181.02s112.639-74.98 181.02-74.98 132.668 26.628 181.02 74.98 74.98 112.639 74.98 181.02c0 60.348-21.397 118.945-60.251 164.998-9.211 10.906-19.373 21.093-30.209 30.284-46.134 39.154-104.925 60.718-165.54 60.718zm0-480c-123.514 0-224 100.486-224 224 0 52.805 18.719 104.074 52.709 144.363 8.06 9.543 16.961 18.466 26.451 26.516 40.364 34.256 91.801 53.121 144.84 53.121s104.476-18.865 144.837-53.119c9.493-8.052 18.394-16.976 26.459-26.525 33.985-40.281 52.704-91.55 52.704-144.356 0-123.514-100.486-224-224-224z"/><path d="m256 256c-52.935 0-96-43.065-96-96s43.065-96 96-96 96 43.065 96 96-43.065 96-96 96zm0-160c-35.29 0-64 28.71-64 64s28.71 64 64 64 64-28.71 64-64-28.71-64-64-64z"/><path d="m411.202 455.084c-1.29 0-2.6-.157-3.908-.485-8.57-2.151-13.774-10.843-11.623-19.414 2.872-11.443 4.329-23.281 4.329-35.185 0-78.285-63.646-142.866-141.893-143.99l-2.107-.01-2.107.01c-78.247 1.124-141.893 65.705-141.893 143.99 0 11.904 1.457 23.742 4.329 35.185 2.151 8.571-3.053 17.263-11.623 19.414s-17.263-3.052-19.414-11.623c-3.512-13.989-5.292-28.448-5.292-42.976 0-46.578 18.017-90.483 50.732-123.63 32.683-33.114 76.285-51.708 122.774-52.358.075-.001.149-.001.224-.001l2.27-.011 2.27.01c.075 0 .149 0 .224.001 46.489.649 90.091 19.244 122.774 52.358 32.715 33.148 50.732 77.053 50.732 123.631 0 14.528-1.78 28.987-5.292 42.976-1.823 7.262-8.343 12.107-15.506 12.108z"/></g></svg>

                            <div class="nav-userpro-basic-info">
                                <span>{{user.first_name}} {{user.last_name}}</span>
                                <span class="nav-userpro-basic-mail-span">{{user.email}}</span>
                            </div>
                        </div>
                    </div>

                    <ul class="nav-user-submenu">
                        <li><a href="#">Moj profil</a></li>
                        <li><a href="#">Povijest narudžbi</a></li>
                        <li><a href="#">Pomoć</a></li>
                        <li><a href="/odjava">Odjava</a></li>
                    </ul>

                </div>
            </li>

            <li class="nav_shopping_cart_ico">
                <a href="/košarica">
                    <svg version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
                    width="446.843px" height="446.843px" viewBox="0 0 446.843 446.843" style="enable-background:new 0 0 446.843 446.843;"
                    xml:space="preserve">
                    <path d="M444.09,93.103c-2.698-3.699-7.006-5.888-11.584-5.888H155.321c-7.92,0-14.337,6.417-14.337,14.337
                    s6.417,14.337,14.337,14.337h257.537l-10.338,32.259H186.782c-7.92,0-14.337,6.417-14.337,14.337
                    c0,7.92,6.417,14.337,14.337,14.337h206.543l-11.868,37.038H203.509c-7.92,0-14.337,6.417-14.337,14.34
                    c0,7.92,6.417,14.337,14.337,14.337h168.759l-9.955,31.064H172.692L94.794,49.064c-1.376-3.958-4.406-7.113-8.3-8.646
                    L19.586,14.134c-7.374-2.887-15.695,0.735-18.591,8.1c-2.891,7.369,0.73,15.695,8.1,18.591l60.768,23.872l74.381,214.399
                    c-3.283,1.144-6.065,3.663-7.332,7.187l-21.506,59.739c-1.318,3.663-0.775,7.733,1.468,10.916c2.24,3.183,5.883,5.078,9.773,5.078
                    h11.044c-6.844,7.616-11.044,17.646-11.044,28.675c0,23.718,19.298,43.012,43.012,43.012s43.012-19.294,43.012-43.012
                    c0-11.029-4.2-21.059-11.044-28.675h93.776c-6.847,7.616-11.048,17.646-11.048,28.675c0,23.718,19.294,43.012,43.013,43.012
                    c23.718,0,43.012-19.294,43.012-43.012c0-11.029-4.2-21.059-11.043-28.675h13.433c6.599,0,11.947-5.349,11.947-11.948
                    c0-6.599-5.349-11.947-11.947-11.947H143.647l13.319-36.996c1.72,0.724,3.578,1.152,5.523,1.152h210.278
                    c6.234,0,11.751-4.027,13.65-9.959l59.739-186.387C447.557,101.567,446.788,96.802,444.09,93.103z M169.659,409.807
                    c-10.543,0-19.116-8.573-19.116-19.116s8.573-19.117,19.116-19.117s19.116,8.574,19.116,19.117S180.202,409.807,169.659,409.807z
                    M327.367,409.807c-10.543,0-19.117-8.573-19.117-19.116s8.574-19.117,19.117-19.117c10.542,0,19.116,8.574,19.116,19.117
                    S337.909,409.807,327.367,409.807z"/></svg>
                </a>

                <span id="nav_cart_item_count" class="nav_cart_item_count">0</span>

                {% if user.is_authenticated %}
                    <script>
                        pull_cart_count()
                    </script>
                {% endif %}

            </li>
        {% else %}
            <li class="join-btn">
                <button onclick="open_modal_signup_form()" class="join-btn">Pridruži se</button>
            </li>
        {% endif %}
    </ul>

    <aside id="nav_hamburger_sidebar" class="nav-hamburger-sidebar sidebar-hidden">
        <hr>
        <div class="nav-hamburger-sidebar-menu-container">
            <ul class="sidebar-menu">
                <li><a href="/">Naslovna</a></li>
                <li><a href="/proizvodi">Proizvodi</a></li>
                <li><a href="/blog">Blog</a></li>
                <li><a href="/about">O Nama</a></li>
            </ul>
            
            <ul class="nav-3dots-social-options">
                <li class="ham-icons"><i class="fab fa-facebook-f fa-lg fa-cog"></i></li>
                <li class="ham-icons"><i class="fab fa-twitter fa-lg fa-cog"></i></li>
                <li class="ham-icons"><i class="fab fa-linkedin-in fa-lg fa-cog"></i></li>
                <li class="ham-icons"><i class="fab fa-instagram fa-lg fa-cog"></i></li>
            </ul>

        </div>
    </aside>

</nav>
